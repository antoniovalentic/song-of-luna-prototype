[gd_scene load_steps=18 format=3 uid="uid://c4skaw306j3u5"]

[ext_resource type="Texture2D" uid="uid://5yilpmr5knkg" path="res://models/textures/moon_diffuse.png" id="1_dhvcg"]
[ext_resource type="Shader" path="res://shaders/space_sky.gdshader" id="1_enxod"]
[ext_resource type="PackedScene" uid="uid://bmij4p4w6dm17" path="res://models/moon_inverse_cylinder.glb" id="2_0yagk"]
[ext_resource type="PackedScene" uid="uid://cwpo78f50wouh" path="res://player.tscn" id="2_m1uo0"]
[ext_resource type="PackedScene" uid="uid://cd4bjhn0qultm" path="res://small_health.tscn" id="4_eh8b4"]
[ext_resource type="PackedScene" uid="uid://crp46hafgqcwo" path="res://models/pyramid.glb" id="5_o1km6"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_go17a"]
shader = ExtResource("1_enxod")
shader_parameter/sky_color = Color(0, 0, 0, 1)
shader_parameter/star_base_color = Color(1, 1, 1, 1)
shader_parameter/star_hue_offset = 0.6
shader_parameter/star_intensity = 0.08
shader_parameter/layer_scale = 15.0
shader_parameter/layer_scale_step = 5.0
shader_parameter/layers_count = 1

[sub_resource type="Sky" id="Sky_jf7ng"]
sky_material = SubResource("ShaderMaterial_go17a")

[sub_resource type="Environment" id="Environment_iif2h"]
background_mode = 2
sky = SubResource("Sky_jf7ng")
ambient_light_color = Color(1, 1, 1, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_3d6nm"]
albedo_texture = ExtResource("1_dhvcg")
uv1_scale = Vector3(0.8, 0.8, 0.8)
uv1_offset = Vector3(0.17, -0.105, 0)
texture_filter = 0

[sub_resource type="CylinderMesh" id="CylinderMesh_tusn2"]
material = SubResource("StandardMaterial3D_3d6nm")
cap_bottom = false

[sub_resource type="CylinderShape3D" id="CylinderShape3D_ikr7s"]

[sub_resource type="CylinderMesh" id="CylinderMesh_yrcjo"]

[sub_resource type="CylinderShape3D" id="CylinderShape3D_vlrd5"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_25emk"]
shading_mode = 0
albedo_color = Color(0, 0, 0, 1)

[sub_resource type="PlaneMesh" id="PlaneMesh_jhsq0"]
material = SubResource("StandardMaterial3D_25emk")
size = Vector2(200, 200)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_85lqa"]
points = PackedVector3Array(101.567, 1.58699, 101.567, -101.567, -1.58699, -101.567, -101.567, 1.58699, -101.567, 101.567, -1.58699, -101.567, -101.567, -1.58699, 101.567, -101.567, 1.58699, 101.567, 101.567, 1.58699, -101.567, 101.567, -1.58699, 101.567)

[node name="Main" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_iif2h")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.977574, 3.4531e-09, -0.210591, 0.210591, -4.23904e-08, 0.977574, -5.55139e-09, -1, -4.2167e-08, -400, 238, 0)
light_energy = 0.012
directional_shadow_mode = 0
sky_mode = 1

[node name="MoonInverseCylinder" parent="." instance=ExtResource("2_0yagk")]
transform = Transform3D(10, 0, 0, 0, 10, 0, 0, 0, 10, 0, -56.2947, 0)

[node name="Pyramid" parent="." instance=ExtResource("5_o1km6")]
transform = Transform3D(20, 0, 0, 0, 20, 0, 0, 0, 20, -400, -7, 0)

[node name="Player" parent="." instance=ExtResource("2_m1uo0")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.19277, 0, 0)

[node name="Ground" type="StaticBody3D" parent="."]
transform = Transform3D(100, 0, 0, 0, 100, 0, 0, 0, 100, 0, -100, 0)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Ground"]
mesh = SubResource("CylinderMesh_tusn2")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Ground"]
shape = SubResource("CylinderShape3D_ikr7s")

[node name="SmallHealth" parent="." instance=ExtResource("4_eh8b4")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.21274, 0, 8.76288)

[node name="StaticBody3D" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.04227, 1, 6.27104)

[node name="MeshInstance3D" type="MeshInstance3D" parent="StaticBody3D"]
mesh = SubResource("CylinderMesh_yrcjo")

[node name="CollisionShape3D" type="CollisionShape3D" parent="StaticBody3D"]
shape = SubResource("CylinderShape3D_vlrd5")

[node name="StaticBody3D2" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -200, 0)

[node name="MeshInstance3D" type="MeshInstance3D" parent="StaticBody3D2"]
mesh = SubResource("PlaneMesh_jhsq0")

[node name="CollisionShape3D" type="CollisionShape3D" parent="StaticBody3D2"]
shape = SubResource("ConvexPolygonShape3D_85lqa")
